<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
		data-th-replace="~{layouts/layout :: layout-encheres( 
						titrePage=~{:: title},
						contenuPage=~{:: main},
						ressourcesSupp=~{:: #ressources-css},
						scripts=~{:: #scripts})}">
<head>
	<!-- Créer comme titre de page -->
	<title data-th-text="#{view-profil-form.title}"></title>
	<!-- Ajout de CSS tp-form.css -->
	<th:block id="ressources-css">
		<link rel="stylesheet" data-th-href="@{/css/tp-form.css}">
		<link rel="stylesheet" data-th-href="@{/css/tp-error.css}">
	</th:block>
</head>
<body>
	<main>
		<form data-th-replace="~{fragments/fragment-profil-form :: 
					frag-profil-form('Création nouveau profil', '/profil/creer')}"> 
		</form>
	</main>
	<th:block id="scripts">
		<script>
			function verifMotDePasse(){
				const mdp = document.getElementById("inputMotDePasse").value;
				const confirmation = document.getElementById("inputConfirmation").value;
				
				if(mdp !== confirmation){
					alert("Les mots de passe ne correspondent pas");
					return false;
				}
				return true;
			}
			
			document.addEventListener("DOMContentLoaded", function() {
				const form = document.querySelector("form");
				if(form) {
					form.addEventListener("submit", function (e) {
						if(!verifMotDePasse()){
							e.preventDefault();
						}
					});
				}
			});
		</script>
	</th:block>
</body>
</html>